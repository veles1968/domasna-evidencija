{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState } from \"react\";\nimport apiClient from \"../api/client\";\nexport default useApi = function useApi(apiFunc) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var request = function request() {\n    var response;\n    return _regeneratorRuntime.async(function request$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setLoading(true);\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(apiClient.get(\"/artikals\"));\n\n          case 3:\n            response = _context.sent;\n            setLoading(false);\n            setError(!response.ok);\n            setData(response.data);\n            console.log(\"1. response = \" + JSON.stringify(response));\n            return _context.abrupt(\"return\", response);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return {\n    data: data,\n    error: error,\n    loading: loading,\n    request: request\n  };\n};","map":{"version":3,"sources":["C:/APPS/DOMA_EVID/ReactNative/frontend/app/hooks/useApi.js"],"names":["useState","apiClient","useApi","apiFunc","data","setData","error","setError","loading","setLoading","request","get","response","ok","console","log","JSON","stringify"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,SAAP;AAEA,eAAeC,MAAM,GAAG,gBAACC,OAAD,EAAa;AAAA,kBACXH,QAAQ,CAAC,EAAD,CADG;AAAA;AAAA,MAC5BI,IAD4B;AAAA,MACtBC,OADsB;;AAAA,mBAETL,QAAQ,CAAC,KAAD,CAFC;AAAA;AAAA,MAE5BM,KAF4B;AAAA,MAErBC,QAFqB;;AAAA,mBAGLP,QAAQ,CAAC,KAAD,CAHH;AAAA;AAAA,MAG5BQ,OAH4B;AAAA,MAGnBC,UAHmB;;AAKnC,MAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AACdD,YAAAA,UAAU,CAAC,IAAD,CAAV;AADc;AAAA,6CAGSR,SAAS,CAACU,GAAV,CAAc,WAAd,CAHT;;AAAA;AAGRC,YAAAA,QAHQ;AAkBdH,YAAAA,UAAU,CAAC,KAAD,CAAV;AAEAF,YAAAA,QAAQ,CAAC,CAACK,QAAQ,CAACC,EAAX,CAAR;AAIAR,YAAAA,OAAO,CAACO,QAAQ,CAACR,IAAV,CAAP;AAGAU,YAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmBC,IAAI,CAACC,SAAL,CAAeL,QAAf,CAA/B;AA3Bc,6CA6BPA,QA7BO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAhB;;AAgCA,SAAO;AAAER,IAAAA,IAAI,EAAJA,IAAF;AAAQE,IAAAA,KAAK,EAALA,KAAR;AAAeE,IAAAA,OAAO,EAAPA,OAAf;AAAwBE,IAAAA,OAAO,EAAPA;AAAxB,GAAP;AACD,CAtCD","sourcesContent":["import { useState } from \"react\";\nimport apiClient from \"../api/client\";\n\nexport default useApi = (apiFunc) => {\n  const [data, setData] = useState([]);\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const request = async (...args) => {\n    setLoading(true);\n    // const response = await apiFunc(...args);\n    const response = await apiClient.get(\"/artikals\");\n\n    // const response = await [\n    //   {\n    //     artikal_id: 1,\n    //     ime_artikal: \"Red jacket for sale\",\n    //     cena: 100,\n    //   },\n    //   {\n    //     artikal_id: 2,\n    //     ime_artikal: \"Couch in great condition\",\n    //     cena: 1000,\n    //   },\n    // ];\n\n    setLoading(false);\n\n    setError(!response.ok);\n    // setError(false);\n    // console.log(\"Error: \" + response);\n\n    setData(response.data);\n    // setData(response);\n\n    console.log(\"1. response = \" + JSON.stringify(response));\n\n    return response;\n  };\n\n  return { data, error, loading, request };\n};\n"]},"metadata":{},"sourceType":"module"}