{"ast":null,"code":"import client from \"./client\";\nvar endpoint = \"/vids\";\nvar vidbyime = \"/vids\";\n\nvar getVids = function getVids() {\n  return client.get(endpoint);\n};\n\nvar getVidsByIme = function getVidsByIme(imeVid) {\n  return client.get(vidbyime + \"?ime_vid=\" + imeVid);\n};\n\nexport var addVid = function addVid(artikal, _onUploadProgress) {\n  console.log(\"START addVid\");\n  console.log(\"artikal.ime_vid = \" + artikal.ime_vid);\n  console.log(\"artikal.vid_id = \" + artikal.vid_id.value);\n  var data = {\n    ime_vid: artikal.ime_vid,\n    vid_id: artikal.vid_id.value\n  };\n  console.log(\"data = \" + JSON.stringify(data));\n  console.log(\"END-2 addVid\");\n  return client.post(endpoint, JSON.stringify(data), {\n    onUploadProgress: function onUploadProgress(progress) {\n      return _onUploadProgress(progress.loaded / progress.total);\n    }\n  });\n};\nexport default {\n  addVid: addVid,\n  getVids: getVids,\n  getVidsByIme: getVidsByIme\n};","map":{"version":3,"sources":["C:/APPS/DOMA_EVID/ReactNative/frontend/app/api/vids.js"],"names":["client","endpoint","vidbyime","getVids","get","getVidsByIme","imeVid","addVid","artikal","onUploadProgress","console","log","ime_vid","vid_id","value","data","JSON","stringify","post","progress","loaded","total"],"mappings":"AAAA,OAAOA,MAAP;AAGA,IAAMC,QAAQ,GAAG,OAAjB;AACA,IAAMC,QAAQ,GAAG,OAAjB;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA,SAAMH,MAAM,CAACI,GAAP,CAAWH,QAAX,CAAN;AAAA,CAAhB;;AAEA,IAAMI,YAAY,GAAG,SAAfA,YAAe,CAACC,MAAD;AAAA,SAAYN,MAAM,CAACI,GAAP,CAAWF,QAAQ,GAAG,WAAX,GAAyBI,MAApC,CAAZ;AAAA,CAArB;;AAGA,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,OAAD,EAAUC,iBAAV,EAA+B;AACnDC,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AAEAD,EAAAA,OAAO,CAACC,GAAR,CAAY,uBAAuBH,OAAO,CAACI,OAA3C;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAY,sBAAsBH,OAAO,CAACK,MAAR,CAAeC,KAAjD;AAOA,MAAIC,IAAI,GAAG;AACTH,IAAAA,OAAO,EAAEJ,OAAO,CAACI,OADR;AAETC,IAAAA,MAAM,EAAEL,OAAO,CAACK,MAAR,CAAeC;AAFd,GAAX;AAKAJ,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAYK,IAAI,CAACC,SAAL,CAAeF,IAAf,CAAxB;AAcAL,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AAIA,SAAOX,MAAM,CAACkB,IAAP,CAAYjB,QAAZ,EAAsBe,IAAI,CAACC,SAAL,CAAeF,IAAf,CAAtB,EAA4C;AACjDN,IAAAA,gBAAgB,EAAE,0BAACU,QAAD;AAAA,aAChBV,iBAAgB,CAACU,QAAQ,CAACC,MAAT,GAAkBD,QAAQ,CAACE,KAA5B,CADA;AAAA;AAD+B,GAA5C,CAAP;AAID,CAtCM;AAwCP,eAAe;AACbd,EAAAA,MAAM,EAANA,MADa;AAEbJ,EAAAA,OAAO,EAAPA,OAFa;AAGbE,EAAAA,YAAY,EAAZA;AAHa,CAAf","sourcesContent":["import client from \"./client\";\n// import http from \"../http-common\";\n\nconst endpoint = \"/vids\";\nconst vidbyime = \"/vids\";\n\nconst getVids = () => client.get(endpoint);\n\nconst getVidsByIme = (imeVid) => client.get(vidbyime + \"?ime_vid=\" + imeVid);\n// client.get(vidbyime + \"?ime_vid=benzin\");\n\nexport const addVid = (artikal, onUploadProgress) => {\n  console.log(\"START addVid\");\n\n  console.log(\"artikal.ime_vid = \" + artikal.ime_vid);\n  console.log(\"artikal.vid_id = \" + artikal.vid_id.value);\n\n  // const data = new FormData();\n  // data.append(\"vid_id\", artikal.vid_id);\n  // data.append(\"ime_vid\", artikal.ime_vid);\n  // data.append(\"cena\", artikal.cena);\n  // data.append(\"steuerrelevant\", artikal.steuerrelevant);\n  var data = {\n    ime_vid: artikal.ime_vid,\n    vid_id: artikal.vid_id.value,\n  };\n\n  console.log(\"data = \" + JSON.stringify(data));\n  // console.log(\"ime_vid = \" + JSON.stringify(data._parts[1][1]));\n\n  // artikal.images.forEach((image, index) =>\n  //   data.append(\"images\", {\n  //     name: \"image\" + index,\n  //     type: \"image/jpeg\",\n  //     uri: image,\n  //   })\n  // );\n\n  // if (artikal.location)\n  //   data.append(\"location\", JSON.stringify(artikal.location));\n\n  console.log(\"END-2 addVid\");\n  // localhost:9000/api/vids\n  // return http.post(\"/vids\", data);\n\n  return client.post(endpoint, JSON.stringify(data), {\n    onUploadProgress: (progress) =>\n      onUploadProgress(progress.loaded / progress.total),\n  });\n};\n\nexport default {\n  addVid,\n  getVids,\n  getVidsByIme,\n};\n"]},"metadata":{},"sourceType":"module"}